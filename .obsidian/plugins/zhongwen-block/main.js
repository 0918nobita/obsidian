"use strict";const l=require("obsidian");function h(n){const e=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const t in n)if(t!=="default"){const i=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(e,t,i.get?i:{enumerable:!0,get:()=>n[t]})}}return e.default=n,Object.freeze(e)}const r=h(l);var d="zhongwenBlock_7xhn250";function u(){const n=document.createElement("div");return n.className=d,n}var p="zhongwenBlock_60jv0";function g(){const n=document.createElement("div");return n.className=p,n}var m="zhongwenBlock_11jx0do0";function y(){const n=document.createElement("div");n.className=m;const e=u();n.appendChild(e);const t=g();return n.appendChild(t),{el:n,hiddenLine:e,visibleLine:t}}var f="zhongwenBlock_vsfo4z0";function v(n){const e=document.createElement("span");return e.className=f,e.textContent=n,e}function C(n){const e=document.createElement("span");return e.textContent=n,e}function b(n,e){const t=v(n.nonZhChars);e.hiddenLine.appendChild(t);const i=C(n.nonZhChars);e.visibleLine.appendChild(i)}function c(n){const e=n.charCodeAt(0);return 19968<=e&&e<=40869}function Z(n){const t=[...n].reduce((i,s)=>{if(i.length===0)return[c(s)?{type:"zh",zhChars:s}:{type:"nonZh",nonZhChars:s}];const[a,...o]=i;return a.type==="zh"?c(s)?[{type:"zh",zhChars:a.zhChars+s},...o]:[{type:"nonZh",nonZhChars:s},a,...o]:c(s)?[{type:"zh",zhChars:s},a,...o]:[{type:"nonZh",nonZhChars:a.nonZhChars+s},...o]},[]);return t.reverse(),t}function _(n,e,t){const i=Z(n),s=y();e.appendChild(s.el);for(const a of i)if(a.type==="nonZh"){b(a,s);continue}}const w={alwaysDisplayPinyin:!1};class z extends r.PluginSettingTab{constructor(e,t){super(e,t),this.plugin=t}display(){const{containerEl:e}=this;e.empty(),new r.Setting(e).setName("Always display pinyin").addToggle(t=>t.setValue(this.plugin.settings.alwaysDisplayPinyin).onChange(async i=>{this.plugin.settings.alwaysDisplayPinyin=i,await this.plugin.saveSettings()}))}}class N extends HTMLElement{constructor(){super()}connectedCallback(){console.log("Custom element added to page.")}}class L extends r.Plugin{async onload(){this.settings=Object.assign({},w,await this.loadData()),this.addSettingTab(new z(this.app,this)),this.registerMarkdownCodeBlockProcessor("zh-cn",(e,t)=>{_(e,t,this.settings)}),customElements.define("my-custom-element",N)}async saveSettings(){await this.saveData(this.settings)}}module.exports=L;
